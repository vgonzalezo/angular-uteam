/*! angular-uteam 01-08-2014 */
var uteamApp=angular.module("angular-uteam",["webcam","angularFileUpload","ui.bootstrap"]);uteamApp.run(function(a){a.img=null,a.showImage=function(){$(".imageselector img").attr("src",a.img)}}),uteamApp.directive("imageselector",["$scope","$rootScope","$modal",function(){return{restrict:"E",transclude:!0,replace:!0,template:'<div class="imageselector" ng-file-drop="onFileSelect($files);" accept="image/*">    <img />    <div class="toolbar">        <button class="btn btn-orange" ng-click="webcam()">            <i class="glyphicon glyphicon-camera"></i>        </button>        <button class="btn btn-orange">            <i class="glyphicon glyphicon-picture"></i>            <input type="file" ng-file-select="onFileSelect($files)" accept="image/*" />        </button>    </div></div>',controller:function(a,b,c){var d=function(a){var c=new FileReader;c.readAsDataURL(a),c.onloadend=function(){b.img=c.result,b.showImage()}};a.onFileSelect=function(a){d(a[0])},a.webcam=function(){c.open({template:'<div class="modal-header">    <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="close()">&times;</button>    <h4 class="modal-title">TOMA TU FOTO</h4></div><div class="modal-body">    <div id="takePhoto" class="modal-container">        <webcam></webcam>    </div></div><div class="modal-footer">    <div class="pull-right">        <button type="button" class="btn btn-orange" ng-click="select()">Aceptar</button>        <button type="button" class="btn btn-orange" ng-click="close()">Cancelar</button>    </div></div>',controller:"webcam-ctrl",size:"sm"})}}}}]),uteamApp.controller("webcam-ctrl",["$scope","$rootScope","$modalInstance",function(a,b,c){var d=function(a){var c=document.createElement("canvas");c.width=a.videoWidth,c.height=a.videoHeight;var d=c.getContext("2d");d.drawImage(a,0,0),b.img=c.toDataURL(),b.showImage()};a.close=function(){c.close()},a.select=function(){d($("video")[0]),c.close()}}]);